标签:`餐饮外卖，美团，饿了么，百度，爬虫，数据挖掘`

---

#爬虫定时抓取外卖平台订单的解决方案

>想必很多人都在美团，饿了么，百度上点过外卖吧，每家平台都不定期的发力进行各种疯狂打折活动，好多人都是三个app都安装的一起比价的策略。而作为大的餐饮企业为了扩大自己的订单量，也是三家都会上自己的商户，但是这三家平台因为竞争的原因都不支持订单批量导出功能。这个爬虫程序就是这个原因而开发出来的。

###想了解客户就要收集销售数据
>定位客户，了解客户有很多种渠道，其中收集订单信息是比较客观的数据，我们能从中知道客户的年龄分布，地理位置分布，喜欢的口味，消费的层次，购买套餐后还喜欢哪些单点等等问题都能逐渐积累的订单数据中挖掘出来， 刚开始这项艰巨的工作是由运营的童鞋们开始的， 她们每天兢兢业业的Ctrl+C , Ctrl+V的拷贝下来百度，美团，饿了么后台数据，然后Excel大神生成各种报表，供我们做分析。 但平淡的日子总是渐渐枯燥起来，随着订单越来越来，公司配送点也越来越多，  （三个外卖平台 +自有微信商城） X 配送点 X 每个配送点的订单的数据就是运营童鞋们的*噩梦*。

###重复劳动就应该让机器去做
>当运维童鞋正在苦逼复制各种订单数据时， 我已经想到用爬虫技术爬取外卖平台上的订单了， 这件事并不能，之前学习Nodejs时候，还写过一个爬虫在[@煎蛋](http://jandan.net)爬取无聊图和美女图呢:>于是开始调研这三家外卖平台的后台系统。

**三家后台采用的页面技术**

|平台|后台展现|页面使用的数据接口|可能的抓取方案
|--------|---------|----------|----------|
|美团外卖|网页 and 桌面程序|restful api| 请求获取json 或者抓取网页|
|百度外卖|桌面程序内嵌webkit|动态页面|抓取网页|
|饿了么|桌面程序内嵌webkit|restful api|请求获取json 或者抓取网页|

>其中百度外卖后台页面非常变态，采用动态页面生成页面还能接受， 订单部分数据特意生成 一大段js代码，
由页面执行渲染后才显示出来，这也是后来在抓取时一个坑。

更多细节请前往[外卖爬虫](https://segmentfault.com/a/1190000005848002)
